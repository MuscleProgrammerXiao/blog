---
title: 搭建一个个人网站
slug: server-deploy-project
tags: [技术,服务器,部署]
keywords: [服务器,部署,项目]
date: 2026-01-21
---
<!-- truncate -->
> 关于搭建自己的网站这件事，在25年初的时候就在计划了，期间尝试过很多次：学nextjs，自己设计，部署到vercel，做到最后都不了了之，想得太多，想得太花，最后发现自己啥也不会。
最后我想通了，我TM本来就不他妈爱搞什么jbcb开发编程，只是为了生活，为了份工作，为了吃口饭搭建这个b抽象网站。唉，有内容总比什么都没有强吧，那就TM赶紧开始搞吧。

:::danger 温馨提示
如果你天真的以为看完这篇内容，跟着敲敲代码，打开浏览器输入地址就能进入你的网站，你以为编程这件事就TM像你的人生一样一帆风顺，没有难度时。那我想告诉你的是：你TM还真看对了，你兄弟我是真的好兄弟，
把路上的坑全给你踩了，你就TM能成功搭建一个个人网站了。
:::
### 开始折磨
网站是docusaurus搭建的，写页面你总得自己做吧，总得吃点苦吧？






## 1.步骤
 - 登录服务器
 - 安装必要的软件（如Git、Node.js等）
 - 克隆项目代码到服务器
 - 安装项目依赖
 - 配置项目环境变量
 - 启动项目

## 2.执行
### 2.1 登录服务器
### 2.3 克隆项目代码到服务器
:::tip
如果你已经知道如何将打包文件dist或build塞进服务器，以下内容将全是废话
:::
将打包文件放到服务器的方案有多种，如在服务器中 `/var/www/projects`目录下克隆-安装-打包项目，或是直接在该目录地址下放项目发包文件都是可以的，然而在内存比较小的服务器（如1GB或2GB内存）中运行`npm run build`经常容易因为内存不足的原因导致系统挂掉。
解决方案：穷鬼方案（钱要花在刀刃上）`Github Actions`：每次提交代码时，github自动将你的项目代码打包并推送到一个deploy分支，你只需要在服务器上克隆那个deploy分支即可。具体步骤：
1. 在项目根目录创建 `.github/workflows/deploy.yml` 文件。
```yml
name: Deploy Blog

on:
  push:
    branches:
      - main  # 当你向 main 分支推送代码时触发

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install and Build
        run: |
          npm install
          npm run build  # 这里执行打包命令，生成 build 文件夹

      - name: Deploy to Branch
        uses: JamesIves/github-pages-deploy-action@v4
        with:
          folder: build    # 打包产物所在的目录
          branch: deploy   # 将产物推送到这个分支
```
2. 配置它在每次推送代码时，自动帮你编译并把build文件夹推送到一个gh-pages或deploy分支。第一次提交`git push origin main`时,你会看到github仓库中Actions中会自动运行一次部署流程。如果你失败了，大概是因为权限问题，这时候你需要去开启权限：选择setting->actions（general）->workflow permissions->read and write permissions->save。再回到actions重跑。
3. 服务器操作：你只需要在服务器上克隆那个deploy分支即可。

各种问题：
1.端口被占用
2.防火墙
3.地址转发错误

### 博客部署遇到的问题以及解决
#### 1.项目问题
站点是基于 Docusaurus 的静态网站。Docusaurus + React + TypeScript
1. 部署到服务器后，网页中的图片加载不出来



